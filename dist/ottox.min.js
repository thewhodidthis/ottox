var Ottox=function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=Object.assign({},t.defaults,e);"number"==typeof e&&(i.rule=parseInt(e,10)),null!==r&&"number"==typeof r&&(i.size=parseInt(r,10)),this.zoom=Math.max(parseInt(i.zoom,10),0),this.grid=new Uint8Array(i.size),this.rule=this.parseRule(i.rule),this.flip(.5*i.size)}return t.prototype={constructor:t,flip:function(t){var e=parseInt(t,10);this.grid[e]=!this.grid[e]},next:function t(e){for(var r=e&&e.length?e:this.grid,i=r.length,t=new Uint8Array(i),n=0;n<i;n+=1){var s=n-1>=0?r[n-1]:r[0],u=r[n],o=n+1<=r.length-1?r[n+1]:r[r.length-1];t[n]=this.getState(s,u,o)}return this.zoom=this.zoom+1,this.grid=t,t},getState:function(t,e,r){return this.rule[parseInt(""+t+e+r,2)]},setRule:function(t){this.rule=this.parseRule(t)},parseRule:function(t){var e=t.toString(2);return("000000000"+e).substr(-8).split("").reverse()}},t.defaults={zoom:0,rule:90,size:10},t}();
